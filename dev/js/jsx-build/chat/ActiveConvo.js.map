{"version":3,"sources":["../../components/chat/ActiveConvo.jsx"],"names":[],"mappings":";;AAAA,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,qBAAmB,EAAE,6BAAS,OAAO,EAAE;AACrC,QAAI,CAAC,QAAQ,CAAC,EAAC,YAAY,EAAE,IAAI,EAAC,CAAC,CAAC;AACpC,QAAI,YAAY,GAAG,IAAI,CAAC;AACxB,QAAI,SAAS,GAAG,KAAK,CAAC;;AAEtB,QAAG,CAAC,SAAS,EAAE;AACb,OAAC,CAAC,IAAI,CAAC;AACL,YAAI,EAAE,MAAM;AACZ,WAAG,EAAE,eAAe;AACpB,YAAI,EAAE;AACJ,mBAAS,EAAE,OAAO;AAClB,oBAAU,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG;SACjC;AACD,gBAAQ,EAAE,MAAM;AAChB,eAAO,EAAE,CAAA,UAAS,GAAG,EAAE;AACrB,iBAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;AACxC,sBAAY,CAAC,QAAQ,CAAC;AACpB,wBAAY,EAAC,KAAK;AAClB,0BAAc,EAAE,OAAO;WACxB,CAAC,CAAC;AACH,sBAAY,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;SACrC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;AACZ,aAAK,EAAE,CAAA,UAAS,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE;AAChC,eAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;AACtB,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;SACvD,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;OACb,CAAC,CAAC;KACJ;GACF;AACD,iBAAe,EAAE,2BAAW;AAC1B,WAAO;AACL,oBAAc,EAAE,EAAE;KACnB,CAAC;GACH;AACD,QAAM,EAAE,kBAAW;AACjB,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC;AAC5C,aACE;;UAAK,SAAS,EAAC,sBAAsB;QACnC;;YAAK,SAAS,EAAC,yBAAyB;UACtC,2BAAG,SAAS,EAAC,uBAAuB,GAAK;SACrC;OACF,CACP;KACF,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAG;AAClD,aACE;;UAAK,SAAS,EAAC,sBAAsB;QACnC;;YAAK,SAAS,EAAC,iBAAiB;UAC9B;;cAAI,SAAS,EAAC,UAAU;;WAAsC;SAC1D;QACN,oBAAC,YAAY,IAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,AAAC;AAClD,yBAAe,EAAE,IAAI,CAAC,mBAAmB,AAAC;AAC1C,oBAAU,EAAC,EAAE;AACb,qBAAW,EAAC,0BAA0B,GAAE;OACtC,CACP;KACF,MAAM;AACL,aACA;;UAAK,SAAS,EAAC,sBAAsB;QACnC,oBAAC,eAAe,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC,GAAE;QAC3C,oBAAC,YAAY,IAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,AAAC;AAClD,yBAAe,EAAE,IAAI,CAAC,mBAAmB,AAAC;AAC1C,oBAAU,EAAC,EAAE;AACb,qBAAW,EAAC,0BAA0B,GAAG;OACvC,CACP;KACA;GACF;CACF,CAAC,CAAC","file":"ActiveConvo.js","sourcesContent":["var ActiveConvo = React.createClass({\n  handleMessageSubmit: function(message) {\n    this.setState({'submitting': true});\n    var currentreact = this;\n    var DONOTSEND = false;\n\n    if(!DONOTSEND) {\n      $.ajax({\n        type: \"POST\",\n        url: '/send_message',\n        data: {\n          'message': message,\n          \"match_id\": this.props.match._id\n        },\n        dataType: 'json',\n        success: function(msg) {\n          console.log('sent message succesfully');\n          currentreact.setState({\n            'submitting':false,\n            \"last_message\": message\n          });\n          currentreact.props.triggerHistory();\n        }.bind(this),\n        error: function(xhr, status, err) {\n          alert(err.toString());\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    }\n  },\n  getInitialState: function() {\n    return {\n      \"last_message\": \"\"\n    };\n  },\n  render: function() {\n    if(!this.props.match.hasOwnProperty('person')){\n      return (\n        <div className=\"activeConvo col-md-6\">\n          <div className=\"convoHistoryBox noConvo\">\n            <i className=\"fa fa-spinner fa-spin\"></i>\n          </div>\n        </div>\n      )\n    } else if (this.props.match.messages.length === 0 ) {\n      return (\n        <div className=\"activeConvo col-md-6\">\n          <div className=\"convoHistoryBox\">\n            <h3 className=\"helptext\">Kick off the conversation below!</h3>\n          </div>\n          <MessageInput last_message={this.state.last_message}\n            onMessageSubmit={this.handleMessageSubmit}\n            submitting=''\n            placeholder=\"Enter your message here.\"/>\n        </div>\n      )\n    } else {\n      return (\n      <div className=\"activeConvo col-md-6\">\n        <ConvoHistoryBox match={this.props.match}/>\n        <MessageInput last_message={this.state.last_message}\n          onMessageSubmit={this.handleMessageSubmit}\n          submitting=''\n          placeholder=\"Enter your message here.\" />\n      </div>\n    )\n    }\n  }\n});"]}